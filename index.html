<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>KneePain Weather AI™ - Grumpy Alert™ Dashboard</title>
  <style>
    body { font-family: Arial, sans-serif; background-color: #f0f2f5; margin: 0; padding: 0; }
    header { background-color: #4a90e2; color: white; padding: 1rem; text-align: center; }
    .container { padding: 1rem; max-width: 600px; margin: auto; }
    .resident-card { background: white; padding: 1rem; border-radius: 12px; margin-bottom: 1rem; box-shadow: 0 4px 6px rgba(0,0,0,0.1); display: flex; flex-direction: column; }
    .resident-info { display: flex; flex-direction: column; margin-bottom: 0.5rem; }
    .emoji { font-size: 2rem; transition: transform 0.2s ease; margin-top: 0.5rem; }
    .joint-levels { font-size: 0.9rem; color: #555; margin-top: 0.3rem; }
    input[type=range] { width: 100%; margin-top: 0.3rem; }
  </style>
</head>
<body>
  <header>
    <h1>KneePain Weather AI™</h1>
    <p>Grumpy Alert™ Dashboard</p>
  </header>
  <div class="container" id="dashboard"></div>

  <script>
    const residents = [
      { name: 'Mr. Thompson', joints: { knee: 8, hip: 6 } },
      { name: 'Mrs. Garcia', joints: { knee: 4, back: 5 } },
      { name: 'Mr. Lee', joints: { knee: 9, shoulder: 7 } }
    ];

    const emojiMap = level => {
      if(level >= 8) return '😡 ⛈️';
      if(level >= 6) return '😠 🌩️';
      if(level >= 4) return '😐 🌦️';
      return '🙂 ☀️';
    };

    const dashboard = document.getElementById('dashboard');

    residents.forEach((resident, rIndex) => {
      const card = document.createElement('div');
      card.className = 'resident-card';
      let jointHTML = '';
      Object.keys(resident.joints).forEach(joint => {
        jointHTML += `
          <div class="resident-info">
            <strong>${joint.charAt(0).toUpperCase() + joint.slice(1)}</strong>
            <div class="joint-levels" id="${joint}-${rIndex}">${resident.joints[joint]}</div>
            <input type="range" min="0" max="10" value="${resident.joints[joint]}" id="slider-${joint}-${rIndex}">
          </div>`;
      });

      card.innerHTML = jointHTML + `
        <div class="emoji" id="emoji-${rIndex}">${emojiMap(Math.max(...Object.values(resident.joints)))}</div>`;
      dashboard.appendChild(card);

      Object.keys(resident.joints).forEach(joint => {
        const slider = document.getElementById(`slider-${joint}-${rIndex}`);
        const jointDisplay = document.getElementById(`${joint}-${rIndex}`);
        const emojiDisplay = document.getElementById(`emoji-${rIndex}`);

        slider.addEventListener('input', () => {
          const val = parseInt(slider.value);
          jointDisplay.textContent = val;
          resident.joints[joint] = val;
          const maxLevel = Math.max(...Object.values(resident.joints));
          emojiDisplay.textContent = emojiMap(maxLevel);
          emojiDisplay.style.transform = 'scale(1.2)';
          setTimeout(() => emojiDisplay.style.transform = 'scale(1)', 200);
        });
      });
    });
  </script>
</body>
</html>
